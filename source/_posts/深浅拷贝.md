---
title: 深浅拷贝
date: 2019-04-15 15:35:40
tags: js
categories: 前端
---

**对arr1的操作会影响arr :**
```
 let arr=[1,2,3]
 let arr1=arr

 arr1.push(4)

 console.log(arr)
 console.log(arr1)
```
---

**浅拷贝可以concat一下arr，这时对arr1的操作就不会影响arr了**
```
 let arr=[1,2,3]
 let arr1=arr.concat([])

 arr1.push(4)

 console.log(arr)
 console.log(arr1)
```

**但如果arr里有一个json的话,浅拷贝后依然会影响arr**
```
  let arr=[{a:12,b:5},2,3]
  let arr1=arr.concat([])

  arr1[0].a++

  console.log(arr)
  console.log(arr1)
```

**最简单的深拷贝**
```
   let arr=[{a:12,b:5},2,3]
  let arr1=JSON.parse(JSON.stringify(arr))

  arr1[0].a++

  console.log(arr)
  console.log(arr1)
```
---
